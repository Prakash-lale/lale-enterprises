---
import BaseLayout from '../layouts/BaseLayout.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import BackToTop from '../components/BackToTop'
import ScrollReveal from '../components/ScrollReveal'
import { jobs } from '../data/jobs'
import { Briefcase, MapPin, Clock, ArrowRight, Shield, Zap, Users, Trophy } from 'lucide-react'
const base = import.meta.env.BASE_URL
const cleanBase = base.endsWith('/') && base !== '/' ? base.slice(0, -1) : (base === '/' ? '' : base)
---

const benefits = [
    {
        title: 'Safety First',
        description: 'Zero-compromise safety standards on every site and office.',
        icon: Shield,
        color: 'text-red-500',
        bg: 'bg-red-50'
    },
    {
        title: 'Innovation Lab',
        description: 'Access to the latest engineering tools and software.',
        icon: Zap,
        color: 'text-yellow-500',
        bg: 'bg-yellow-50'
    },
    {
        title: 'Growth Mindset',
        description: 'Clear career paths and continuous learning opportunities.',
        icon: Trophy,
        color: 'text-primary-500',
        bg: 'bg-primary-50'
    },
    {
        title: 'Diverse Teams',
        description: 'Collaborate with the best minds in MEP engineering.',
        icon: Users,
        color: 'text-blue-500',
        bg: 'bg-blue-50'
    }
];
---

<BaseLayout 
	title="Careers - Join Our Team | Lale Enterprises"
	description="Build your career with Lale Enterprises. Explore job opportunities in MEP engineering, HVAC design, and more."
>
	<Header />
	<BackToTop client:load />

	<main class="pt-24">
		<!-- Hero Section -->
		<section class="relative py-24 bg-gray-900 text-white overflow-hidden">
			<div class="absolute inset-0 opacity-20">
				<div class="absolute inset-0 bg-primary-600/30 mix-blend-multiply"></div>
				<img src={`${cleanBase}/heroimage.png`} alt="Team working" class="w-full h-full object-cover grayscale" />
			</div>
			
			<div class="container-custom relative z-10 text-center">
				<ScrollReveal client:load>
					<span class="inline-block px-4 py-1.5 bg-primary-600 text-white text-sm font-bold rounded-full mb-6 italic tracking-wider">
						JOIN OUR TEAM
					</span>
					<h1 class="text-4xl md:text-6xl font-heading font-bold mb-6 italic">Engineering Your <span class="text-primary-400">Future</span></h1>
					<p class="text-xl text-gray-300 max-w-2xl mx-auto mb-10">
						Be part of a team that's redefining the MEP landscape across India. We're looking for passionate innovators to help us deliver excellence.
					</p>
					<a href="#open-positions" class="btn-primary">
						Explore Openings
					</a>
				</ScrollReveal>
			</div>
		</section>

		<!-- Why Join Us Section -->
		<section class="section-padding bg-white">
			<div class="container-custom">
				<div class="text-center mb-16">
					<ScrollReveal client:load>
						<h2 class="text-3xl md:text-4xl font-heading font-bold mb-4 italic">Why Lale Enterprises?</h2>
						<p class="text-gray-600 max-w-2xl mx-auto">
							We don't just build infrastructure; we build careers. Here’s what it’s like to work with us.
						</p>
					</ScrollReveal>
				</div>

				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
					{benefits.map((benefit, index) => (
						<ScrollReveal client:load delay={index * 0.1}>
							<div class="p-8 rounded-2xl bg-white border border-gray-100 shadow-sm hover:shadow-premium transition-all group h-full">
								<div class={`w-14 h-14 ${benefit.bg} rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`}>
									<benefit.icon className={`w-7 h-7 ${benefit.color}`} />
								</div>
								<h3 class="text-xl font-bold text-gray-900 mb-3">{benefit.title}</h3>
								<p class="text-gray-600 text-sm leading-relaxed">{benefit.description}</p>
							</div>
						</ScrollReveal>
					))}
				</div>
			</div>
		</section>

		<!-- Open Positions Section -->
		<section id="open-positions" class="section-padding bg-gray-50">
			<div class="container-custom">
				<div class="flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6">
					<div>
						<ScrollReveal client:load>
							<h2 class="text-3xl md:text-4xl font-heading font-bold mb-4 italic">Current Openings</h2>
							<p class="text-gray-600">Find the role that fits your expertise.</p>
						</ScrollReveal>
					</div>
					<div class="text-sm font-medium text-gray-500">
						Showing {jobs.length} open positions
					</div>
				</div>

				<div class="grid grid-cols-1 gap-6">
					{jobs.map((job, index) => (
						<ScrollReveal client:load delay={index * 0.1}>
							<div class="bg-white p-6 md:p-8 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all group">
								<div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
									<div class="flex-grow">
										<div class="flex items-center gap-3 mb-2">
											<span class="px-3 py-1 bg-primary-50 text-primary-600 text-[10px] font-bold rounded-full uppercase tracking-wider">
												{job.department}
											</span>
											<span class="flex items-center text-gray-400 text-xs">
												<Clock className="w-3 h-3 mr-1" />
												{job.type}
											</span>
										</div>
										<h3 class="text-2xl font-heading font-bold text-gray-900 mb-4 italic group-hover:text-primary-600 transition-colors">
											{job.title}
										</h3>
										<div class="flex items-center text-gray-500 text-sm mb-4">
											<MapPin class="w-4 h-4 mr-2 text-primary-500" />
											{job.location}
										</div>
										<p class="text-gray-600 text-sm mb-6 line-clamp-2 max-w-3xl">
											{job.description}
										</p>
										<div class="flex flex-wrap gap-2 mb-6">
											{job.requirements.slice(0, 2).map((req) => (
												<span class="text-[11px] bg-gray-50 text-gray-500 px-3 py-1 rounded-lg">
													{req}
												</span>
											))}
										</div>
									</div>
									<div class="flex-shrink-0">
										<a href={`mailto:enterpriseslale@gmail.com?subject=Application for ${job.title}`} class="btn-primary w-full md:w-auto text-center inline-flex items-center justify-center gap-2">
											Apply Now
											<ArrowRight className="w-4 h-4" />
										</a>
									</div>
								</div>
							</div>
						</ScrollReveal>
					))}
				</div>
				
				<ScrollReveal client:load delay={0.4}>
					<div class="mt-16 p-10 rounded-3xl bg-primary-600 text-white text-center relative overflow-hidden">
						<div class="absolute inset-0 bg-gradient-to-r from-primary-700 to-primary-600 opacity-50"></div>
						<div class="relative z-10">
							<h3 class="text-2xl md:text-3xl font-heading font-bold mb-4 italic">Don't See the Right Fit?</h3>
							<p class="text-primary-100 mb-8 max-w-xl mx-auto">
								We're always looking for talented engineers and project managers. Send us your CV and we'll keep you in mind for future roles.
							</p>
							<a href="mailto:enterpriseslale@gmail.com" class="bg-white text-primary-600 px-8 py-3 rounded-lg font-bold hover:bg-primary-50 transition-colors inline-block shadow-lg">
								Send General Application
							</a>
						</div>
					</div>
				</ScrollReveal>
			</div>
		</section>
	</main>

	<Footer />
</BaseLayout>
