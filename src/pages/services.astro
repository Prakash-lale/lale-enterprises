---
import BaseLayout from '../layouts/BaseLayout.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import BackToTop from '../components/BackToTop'
import ScrollReveal from '../components/ScrollReveal'
import { services } from '../data/services'
import * as Icons from 'lucide-react'
import { Check } from 'lucide-react'

const base = import.meta.env.BASE_URL
---

<BaseLayout 
	title="Our Services - Lale Enterprises"
	description="Comprehensive turnkey engineering services including HVAC, Electrical, Fire Fighting, Plumbing, and Mechanical solutions"
>
	<Header />
	<BackToTop client:load />

	<!-- Hero Section -->
	<section class="relative pt-32 pb-16 gradient-bg">
		<div class="container-custom">
			<ScrollReveal client:load>
				<h1 class="text-center mb-6 text-3xl md:text-5xl lg:text-6xl">
					<span class="text-gradient">Our Services</span>
				</h1>
			</ScrollReveal>
			<ScrollReveal client:load delay={0.2}>
				<p class="text-base md:text-lg lg:text-xl text-gray-600 text-center max-w-3xl mx-auto">
					Comprehensive turnkey engineering solutions tailored to your specific needs
				</p>
			</ScrollReveal>
		</div>
	</section>

	<!-- Services Sections -->
	{services.map((service, index) => {
		const IconComponent = Icons[service.icon as keyof typeof Icons] as any
		const isEven = index % 2 === 0

		return (
			<section id={service.id} class={`section-padding ${isEven ? 'bg-white' : 'gradient-bg'}`}>
				<div class="container-custom">
					<div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
						{/* Content */}
						<div class={isEven ? '' : 'lg:order-2'}>
							<ScrollReveal client:load>
								<div class="w-16 h-16 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center mb-6">
									{IconComponent && <IconComponent className="w-8 h-8 text-white" />}
								</div>
							</ScrollReveal>
							<ScrollReveal client:load delay={0.2}>
								<h2 class="text-3xl lg:text-4xl font-heading font-bold mb-4">
									{service.title}
								</h2>
							</ScrollReveal>
							<ScrollReveal client:load delay={0.3}>
								<p class="text-lg text-gray-600 mb-8">
									{service.description}
								</p>
							</ScrollReveal>
							<ScrollReveal client:load delay={0.4}>
								<ul class="space-y-3">
									{service.details.map((detail) => (
										<li class="flex items-start">
											<Check className="w-6 h-6 text-primary-500 mr-3 mt-0.5 flex-shrink-0" />
											<span class="text-gray-700">{detail}</span>
										</li>
									))}
								</ul>
							</ScrollReveal>

							<ScrollReveal client:load delay={0.5}>
								<div class="mt-10">
									<a href={(base + `/services/${service.id}`).replace(/\/+/g, '/')} class="btn-primary group inline-flex">
										View Technical Details
										<Icons.ArrowRight className="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" />
									</a>
								</div>
							</ScrollReveal>
						</div>

						{/* Image */}
						<div class={isEven ? 'lg:order-2' : ''}>
							<ScrollReveal client:load delay={0.2} direction={isEven ? 'right' : 'left'}>
								<div class="relative rounded-2xl overflow-hidden shadow-premium aspect-video bg-gradient-to-br from-primary-100 to-secondary-100">
									{service.image ? (
										<img 
											src={(base + service.image).replace(/\/+/g, '/')} 
											alt={service.title} 
											class="w-full h-full object-cover"
										/>
									) : (
										<div class="w-full h-full flex items-center justify-center">
											{IconComponent && <IconComponent className="w-24 h-24 text-primary-500/30" />}
											<p class="absolute bottom-4 text-gray-400 text-sm">Image placeholder for {service.title}</p>
										</div>
									)}
								</div>
							</ScrollReveal>
						</div>
					</div>
				</div>
			</section>
		)
	})}


	<!-- CTA Section -->
	<section class="section-padding bg-gradient-to-br from-primary-500 to-secondary-500 text-white">
		<div class="container-custom">
			<div class="max-w-3xl mx-auto text-center">
				<ScrollReveal client:load>
					<h2 class="mb-6 text-white">Need a Custom Solution?</h2>
				</ScrollReveal>
				<ScrollReveal client:load delay={0.2}>
					<p class="text-xl mb-8 text-white/90">
						Our team can design and deliver tailored engineering solutions for your unique requirements
					</p>
				</ScrollReveal>
				<ScrollReveal client:load delay={0.4}>
					<a href={(base + '/contact').replace(/\/+/g, '/')} class="btn bg-white text-primary-500 hover:bg-gray-100">
						Discuss Your Project
					</a>
				</ScrollReveal>
			</div>
		</div>
	</section>

	<Footer />
</BaseLayout>
